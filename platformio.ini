[platformio]
default_envs = esp8266

; Main ESP8266 environment
[env:esp8266]
platform = espressif8266
board = nodemcuv2
framework = arduino

; Let PlatformIO use default compatible ESP8266 core version
; (v2.2.0 constraint removed - not available in modern PlatformIO registry)

; Development build flags
build_flags = 
    -D CORE_DEBUG_LEVEL=5
    -D DEBUG_ESP_PORT=Serial

; USB upload settings (first time setup)
upload_speed = 921600
monitor_speed = 19200

; Libraries (using latest compatible versions)
lib_deps = 
    adafruit/Adafruit PWM Servo Driver Library
    paulstoffregen/Time
    jchristensen/DS3232RTC
    paulstoffregen/OneWire

; OTA (Over-The-Air) upload environment
[env:esp8266_ota]
extends = env:esp8266

; Upload via WiFi instead of USB
upload_protocol = espota
upload_port = 192.168.103.8
upload_flags = 
    --auth=aquarium123

; Test environment (runs on PC, no hardware needed)
[env:test]
platform = native
test_framework = unity
build_flags = 
    -D UNIT_TEST
    -std=c++11
