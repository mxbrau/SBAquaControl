[platformio]
default_envs = esp8266

; Main ESP8266 environment
[env:esp8266]
platform = espressif8266
board = nodemcuv2
framework = arduino

; Use ESP8266 v2.2.0 for Arduino IDE compatibility (as noted in README)
platform_packages = 
    platformio/framework-arduinoespressif8266 @ ~2.2.0

; Development build flags
build_flags = 
    -D CORE_DEBUG_LEVEL=5
    -D DEBUG_ESP_PORT=Serial

; USB upload settings (first time setup)
upload_speed = 921600
monitor_speed = 19200

; Libraries
lib_deps = 
    adafruit/Adafruit PWM Servo Driver Library@^1.0.2
    paulstoffregen/Time@^1.6.1
    paulstoffregen/DS1307RTC@^1.4.1

; OTA (Over-The-Air) upload environment
[env:esp8266_ota]
extends = env:esp8266

; Upload via WiFi instead of USB
upload_protocol = espota
upload_port = 192.168.1.100  ; CHANGE THIS to your ESP8266's IP address
upload_flags = 
    --auth=aquarium123  ; OTA password for security

; Test environment (runs on PC, no hardware needed)
[env:test]
platform = native
test_framework = unity
build_flags = 
    -D UNIT_TEST
    -std=c++11
